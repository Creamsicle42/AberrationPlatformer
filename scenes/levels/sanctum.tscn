[gd_scene load_steps=22 format=3 uid="uid://np13agmcy1dv"]

[ext_resource type="PackedScene" uid="uid://drum6yi7jjfk0" path="res://scenes/levels/template_level.tscn" id="1_bpk27"]
[ext_resource type="Script" path="res://scenes/level_objects/transfer_area.gd" id="2_pqypq"]
[ext_resource type="Script" path="res://scenes/level_objects/scripting/sanctum_scripting.gd" id="2_trw04"]
[ext_resource type="Script" path="res://scenes/level_objects/event_executor.gd" id="2_tx57x"]
[ext_resource type="Script" path="res://assets/resources/_types/level_event/set_flag_event.gd" id="3_3tx7p"]
[ext_resource type="Script" path="res://assets/resources/_types/level_event/player_lock_input_event.gd" id="4_auxk5"]
[ext_resource type="Script" path="res://assets/resources/_types/level_event/speech_event.gd" id="4_rkvla"]

[sub_resource type="Resource" id="Resource_1ev5y"]
script = ExtResource("3_3tx7p")
flag_id = "abberation_created"
value = true

[sub_resource type="Resource" id="Resource_5ypng"]
script = ExtResource("4_auxk5")
lock_input = true

[sub_resource type="Resource" id="Resource_j5sdh"]
script = ExtResource("4_rkvla")
text = "[shake rate=20.0 level=5 connected=1]HEY YOU[/shake]"
charachter_time = 0.025
bubble_pos = Vector2(224, 64)

[sub_resource type="Resource" id="Resource_3jowv"]
script = ExtResource("4_rkvla")
text = "Go get me 8 [color=#124e89]Science Crystals![/color]"
charachter_time = 0.03
bubble_pos = Vector2(224, 64)

[sub_resource type="Resource" id="Resource_f7hi0"]
script = ExtResource("4_auxk5")
lock_input = false

[sub_resource type="Resource" id="Resource_8fmnd"]
script = ExtResource("4_rkvla")
text = "Go on, get out of here!"
charachter_time = 0.025
bubble_pos = Vector2(224, 64)

[sub_resource type="Resource" id="Resource_o23k5"]
script = ExtResource("4_auxk5")
lock_input = true

[sub_resource type="Resource" id="Resource_bho43"]
script = ExtResource("4_rkvla")
text = "You did the bare minimum..."
charachter_time = 0.025
bubble_pos = Vector2(224, 64)

[sub_resource type="Resource" id="Resource_s6utl"]
script = ExtResource("4_rkvla")
text = "You get, [color=red]Bad Ending!"
charachter_time = 0.025
bubble_pos = Vector2(224, 64)

[sub_resource type="Resource" id="Resource_1g05f"]
script = ExtResource("4_auxk5")
lock_input = false

[sub_resource type="Resource" id="Resource_10i2p"]
script = ExtResource("4_rkvla")
text = "You got all the crystals..."
charachter_time = 0.025
bubble_pos = Vector2(224, 64)

[sub_resource type="Resource" id="Resource_v3ehb"]
script = ExtResource("4_rkvla")
text = "You get, [color=green]Good Ending!"
charachter_time = 0.025
bubble_pos = Vector2(224, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_von8b"]
size = Vector2(16, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t4jt0"]
size = Vector2(88, 48)

[node name="TemplateLevel" instance=ExtResource("1_bpk27")]

[node name="SanctumScripting" type="Node" parent="." index="0" node_paths=PackedStringArray("first_entry_executor", "additional_entry_executor", "bad_ending_executor", "good_ending_executor")]
script = ExtResource("2_trw04")
first_entry_executor = NodePath("../InitialEntryEvents")
additional_entry_executor = NodePath("../AditionalEntryEvents")
bad_ending_executor = NodePath("../BadEndingEvents")
good_ending_executor = NodePath("../GoodEndingEvents")

[node name="InitialEntryEvents" type="Node" parent="." index="1"]
script = ExtResource("2_tx57x")
events = Array[Resource("res://assets/resources/_types/level_event/level_event.gd")]([SubResource("Resource_1ev5y"), SubResource("Resource_5ypng"), SubResource("Resource_j5sdh"), SubResource("Resource_3jowv"), SubResource("Resource_f7hi0")])

[node name="AditionalEntryEvents" type="Node" parent="." index="2"]
script = ExtResource("2_tx57x")
events = Array[Resource("res://assets/resources/_types/level_event/level_event.gd")]([SubResource("Resource_8fmnd")])

[node name="BadEndingEvents" type="Node" parent="." index="3"]
script = ExtResource("2_tx57x")
events = Array[Resource("res://assets/resources/_types/level_event/level_event.gd")]([SubResource("Resource_o23k5"), SubResource("Resource_bho43"), SubResource("Resource_s6utl"), SubResource("Resource_1g05f")])

[node name="GoodEndingEvents" type="Node" parent="." index="4"]
script = ExtResource("2_tx57x")
events = Array[Resource("res://assets/resources/_types/level_event/level_event.gd")]([SubResource("Resource_o23k5"), SubResource("Resource_10i2p"), SubResource("Resource_v3ehb"), SubResource("Resource_1g05f")])

[node name="FromSewers" type="Node2D" parent="Spawnpoints" index="0"]
position = Vector2(16, 40)

[node name="TileMap" parent="." index="6"]
layer_2/tile_data = PackedInt32Array(0, 0, 0, 65536, 0, 0, 1, 0, 0, 65537, 0, 0, 2, 0, 0, 65538, 0, 0, 3, 0, 0, 65539, 0, 0, 4, 0, 0, 65540, 0, 0, 5, 0, 0, 65541, 0, 0, 6, 0, 0, 65542, 0, 0, 7, 0, 0, 65543, 0, 0, 8, 0, 0, 65544, 0, 0, 9, 0, 0, 65545, 0, 0, 10, 0, 0, 65546, 0, 0, 11, 0, 0, 65547, 0, 0, 12, 0, 0, 65548, 0, 0, 13, 0, 0, 65549, 0, 0, 14, 0, 0, 65550, 0, 0, 15, 0, 0, 65551, 0, 0, 16, 0, 0, 65552, 0, 0, 17, 0, 0, 65553, 0, 0, 18, 0, 0, 65554, 0, 0, 19, 0, 0, 65555, 0, 0, 20, 0, 0, 65556, 0, 0, 21, 0, 0, 65557, 0, 0, 22, 0, 0, 65558, 0, 0, 23, 0, 0, 65559, 0, 0, 24, 0, 0, 65560, 0, 0, 25, 0, 0, 65561, 0, 0, 26, 0, 0, 65562, 0, 0, 27, 0, 0, 65563, 0, 0, 28, 0, 0, 65564, 0, 0, 29, 0, 0, 65565, 0, 0, 30, 0, 0, 65566, 0, 0, 31, 0, 0, 65567, 0, 0, 32, 0, 0, 65568, 0, 0, 33, 0, 0, 65569, 0, 0, 34, 0, 0, 65570, 0, 0, 35, 0, 0, 65571, 0, 0, 36, 0, 0, 65572, 0, 0, 37, 0, 0, 65573, 0, 0, 38, 0, 0, 65574, 0, 0, 39, 0, 0, 65575, 0, 0, 40, 0, 0, 65576, 0, 0, 41, 0, 0, 65577, 0, 0, 42, 0, 0, 65578, 0, 0, 43, 0, 0, 65579, 0, 0, 393216, 0, 0, 458752, 0, 0, 524288, 0, 0, 589824, 0, 0, 655360, 0, 0, 720896, 0, 0, 786432, 0, 0, 851968, 0, 0, 917504, 0, 0, 983040, 0, 0, 1048576, 0, 0, 1114112, 0, 0, 1179648, 0, 0, 1245184, 0, 0, 1310720, 0, 0, 1376256, 0, 0, 1441792, 0, 0, 393217, 0, 0, 458753, 0, 0, 524289, 0, 0, 589825, 0, 0, 655361, 0, 0, 720897, 0, 0, 786433, 0, 0, 851969, 0, 0, 917505, 0, 0, 983041, 0, 0, 1048577, 0, 0, 1114113, 0, 0, 1179649, 0, 0, 1245185, 0, 0, 1310721, 0, 0, 1376257, 0, 0, 1441793, 0, 0, 393218, 0, 0, 458754, 0, 0, 524290, 0, 0, 589826, 0, 0, 655362, 0, 0, 720898, 0, 0, 786434, 0, 0, 851970, 0, 0, 917506, 0, 0, 983042, 0, 0, 1048578, 0, 0, 1114114, 0, 0, 1179650, 0, 0, 1245186, 0, 0, 1310722, 0, 0, 1376258, 0, 0, 1441794, 0, 0, 1310723, 0, 0, 1376259, 0, 0, 1441795, 0, 0, 1310724, 0, 0, 1376260, 0, 0, 1441796, 0, 0, 1310725, 0, 0, 1376261, 0, 0, 1441797, 0, 0, 1310726, 0, 0, 1376262, 0, 0, 1441798, 0, 0, 1310727, 0, 0, 1376263, 0, 0, 1441799, 0, 0, 1310728, 0, 0, 1376264, 0, 0, 1441800, 0, 0, 1310729, 0, 0, 1376265, 0, 0, 1441801, 0, 0, 1310730, 0, 0, 1376266, 0, 0, 1441802, 0, 0, 1310731, 0, 0, 1376267, 0, 0, 1441803, 0, 0, 1310732, 0, 0, 1376268, 0, 0, 1441804, 0, 0, 1310733, 0, 0, 1376269, 0, 0, 1441805, 0, 0, 1310734, 0, 0, 1376270, 0, 0, 1441806, 0, 0, 1310735, 0, 0, 1376271, 0, 0, 1441807, 0, 0, 1310736, 0, 0, 1376272, 0, 0, 1441808, 0, 0, 1310737, 0, 0, 1376273, 0, 0, 1441809, 0, 0, 1310738, 0, 0, 1376274, 0, 0, 1441810, 0, 0, 1310739, 0, 0, 1376275, 0, 0, 1441811, 0, 0, 1310740, 0, 0, 1376276, 0, 0, 1441812, 0, 0, 1310741, 0, 0, 1376277, 0, 0, 1441813, 0, 0, 1310742, 0, 0, 1376278, 0, 0, 1441814, 0, 0, 1310743, 0, 0, 1376279, 0, 0, 1441815, 0, 0, 1310744, 0, 0, 1376280, 0, 0, 1441816, 0, 0, 1310745, 0, 0, 1376281, 0, 0, 1441817, 0, 0, 1310746, 0, 0, 1376282, 0, 0, 1441818, 0, 0, 1310747, 0, 0, 1376283, 0, 0, 1441819, 0, 0, 1310748, 0, 0, 1376284, 0, 0, 1441820, 0, 0, 1310749, 0, 0, 1376285, 0, 0, 1441821, 0, 0, 1310750, 0, 0, 1376286, 0, 0, 1441822, 0, 0, 1310751, 0, 0, 1376287, 0, 0, 1441823, 0, 0, 1310752, 0, 0, 1376288, 0, 0, 1441824, 0, 0, 1310753, 0, 0, 1376289, 0, 0, 1441825, 0, 0, 1310754, 0, 0, 1376290, 0, 0, 1441826, 0, 0, 1310755, 0, 0, 1376291, 0, 0, 1441827, 0, 0, 1310756, 0, 0, 1376292, 0, 0, 1441828, 0, 0, 1310757, 0, 0, 1376293, 0, 0, 1441829, 0, 0, 1310758, 0, 0, 1376294, 0, 0, 1441830, 0, 0, 1310759, 0, 0, 1376295, 0, 0, 1441831, 0, 0, 1310760, 0, 0, 1376296, 0, 0, 1441832, 0, 0, 1310761, 0, 0, 1376297, 0, 0, 1441833, 0, 0, 1310762, 0, 0, 1376298, 0, 0, 1441834, 0, 0, 1310763, 0, 0, 1376299, 0, 0, 1441835, 0, 0, 131113, 0, 0, 196649, 0, 0, 262185, 0, 0, 327721, 0, 0, 393257, 0, 0, 458793, 0, 0, 524329, 0, 0, 589865, 0, 0, 655401, 0, 0, 720937, 0, 0, 786473, 0, 0, 852009, 0, 0, 917545, 0, 0, 983081, 0, 0, 1048617, 0, 0, 1114153, 0, 0, 1179689, 0, 0, 1245225, 0, 0, 131114, 0, 0, 196650, 0, 0, 262186, 0, 0, 327722, 0, 0, 393258, 0, 0, 458794, 0, 0, 524330, 0, 0, 589866, 0, 0, 655402, 0, 0, 720938, 0, 0, 786474, 0, 0, 852010, 0, 0, 917546, 0, 0, 983082, 0, 0, 1048618, 0, 0, 1114154, 0, 0, 1179690, 0, 0, 1245226, 0, 0, 131115, 0, 0, 196651, 0, 0, 262187, 0, 0, 327723, 0, 0, 393259, 0, 0, 458795, 0, 0, 524331, 0, 0, 589867, 0, 0, 655403, 0, 0, 720939, 0, 0, 786475, 0, 0, 852011, 0, 0, 917547, 0, 0, 983083, 0, 0, 1048619, 0, 0, 1114155, 0, 0, 1179691, 0, 0, 1245227, 0, 0, 1048579, 0, 0, 1114115, 0, 0, 1179651, 0, 0, 1245187, 0, 0, 131084, 0, 0, 196620, 0, 0, 262156, 0, 0, 327692, 0, 0, 393228, 0, 0, 458764, 0, 0, 524300, 0, 0, 589836, 0, 0, 655372, 0, 0, 131085, 0, 0, 196621, 0, 0, 262157, 0, 0, 327693, 0, 0, 393229, 0, 0, 458765, 0, 0, 524301, 0, 0, 589837, 0, 0, 655373, 0, 0, 131086, 0, 0, 196622, 0, 0, 262158, 0, 0, 327694, 0, 0, 393230, 0, 0, 458766, 0, 0, 524302, 0, 0, 589838, 0, 0, 655374, 0, 0, 393219, 0, 0, 458755, 0, 0, 524291, 0, 0, 589827, 0, 0, 655363, 0, 0, 720899, 0, 0, 786435, 0, 0, 851971, 0, 0, 917507, 0, 0, 983043, 0, 0, 720908, 0, 0, 720909, 0, 0, 720910, 0, 0, 786446, 0, 0, 786445, 0, 0, 786444, 0, 0, 851982, 0, 0, 851981, 0, 0, 851980, 0, 0)

[node name="GameCamera" parent="." index="9"]
limit_left = 0
limit_top = 0
limit_right = 352
limit_bottom = 180

[node name="TransferArea" type="Area2D" parent="." index="10"]
position = Vector2(-8, 32)
collision_layer = 2
collision_mask = 2
script = ExtResource("2_pqypq")
level_id = "sewers_1"
spawnpoint_id = "sanctum"

[node name="CollisionShape2D" type="CollisionShape2D" parent="TransferArea" index="0"]
shape = SubResource("RectangleShape2D_von8b")

[node name="PlayerEnteredRoom" type="Area2D" parent="." index="11"]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerEnteredRoom" index="0"]
position = Vector2(164, 136)
shape = SubResource("RectangleShape2D_t4jt0")

[connection signal="body_entered" from="PlayerEnteredRoom" to="SanctumScripting" method="_on_player_entered_room_body_entered" unbinds=1]
